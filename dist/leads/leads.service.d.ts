import { Repository } from 'typeorm';
import { Lead } from './entities/lead.entity';
import { ConsumedLead } from './entities/consumed-lead.entity';
import { CreateLeadDto } from './dto/create-lead.dto';
import { UpdateLeadDto } from './dto/update-lead.dto';
import { UpdateConsumedLeadStatusDto } from './dto/update-consumed-lead-status.dto';
import { CompanyService } from '../company/company.service';
import { NotificationsService } from '../notifications/notifications.service';
import { S3Service } from '../chat/s3.service';
export declare class LeadsService {
    private readonly leadRepository;
    private readonly consumedLeadRepository;
    private readonly companyService;
    private readonly notificationsService;
    private readonly s3Service;
    constructor(leadRepository: Repository<Lead>, consumedLeadRepository: Repository<ConsumedLead>, companyService: CompanyService, notificationsService: NotificationsService, s3Service: S3Service);
    create(companyId: string, createLeadDto: CreateLeadDto, imageFile?: Express.Multer.File): Promise<Lead>;
    findAll(): Promise<Lead[]>;
    findByCompany(companyId: string): Promise<Lead[]>;
    findActiveByCompany(companyId: string): Promise<Lead[]>;
    findInactiveByCompany(companyId: string): Promise<Lead[]>;
    findOne(id: string): Promise<Lead>;
    update(id: string, companyId: string, updateLeadDto: UpdateLeadDto, imageFile?: Express.Multer.File): Promise<Lead>;
    toggleActiveStatus(id: string, companyId: string, isActive: boolean): Promise<Lead>;
    deactivateLeadWithReason(id: string, companyId: string, reason?: string): Promise<Lead>;
    remove(id: string, companyId: string): Promise<void>;
    getLeadImageUrl(leadId: string): Promise<string>;
    consumeLead(leadId: string, consumerCompanyId: string): Promise<{
        success: boolean;
        contact?: string;
        message?: string;
    }>;
    private generateSignedUrlsForCompany;
    private attachSignedUrls;
    getAllDeactivatedLeads(): Promise<{
        inactive: Lead[];
        deleted: Lead[];
    }>;
    getInactiveLeads(): Promise<Lead[]>;
    getDeletedLeads(): Promise<Lead[]>;
    getInactiveLeadsByReason(): Promise<any[]>;
    getDeactivatedLeads(): Promise<Lead[]>;
    getDeactivatedLeadsByReason(): Promise<any[]>;
    getLeadCountByDate(): Promise<any[]>;
    getLeadCountByMonth(): Promise<any[]>;
    getTotalLeadCount(): Promise<number>;
    getTotalActiveLeads(): Promise<number>;
    getTotalConsumedLeads(): Promise<number>;
    getMostConsumedLeads(limit?: number): Promise<Lead[]>;
    getMostViewedLeads(limit?: number): Promise<Lead[]>;
    getLeadsByLocation(): Promise<any[]>;
    getAverageLeadLifespan(): Promise<number>;
    getLeadConversionRate(): Promise<any>;
    getAverageConsumptionsPerCompany(): Promise<string>;
    getLeadSupplyDemandRatio(): Promise<any>;
    getTopLeadLocations(limit?: number): Promise<any[]>;
    getLeadChurnRate(): Promise<any>;
    getCompanyTotalLeadsPosted(companyId: string): Promise<number>;
    getCompanyActiveLeads(companyId: string): Promise<number>;
    getCompanyConsumedLeads(companyId: string): Promise<number>;
    getCompanyLeadAvailabilityRatio(companyId: string): Promise<string>;
    updateConsumedLeadStatus(consumedLeadId: string, companyId: string, updateStatusDto: UpdateConsumedLeadStatusDto): Promise<ConsumedLead>;
    getMyConsumedLeadsWithStatus(companyId: string): Promise<ConsumedLead[]>;
    getConsumedLeadDetails(consumedLeadId: string, companyId: string): Promise<ConsumedLead>;
    getAllConsumedLeadsWithStatus(): Promise<ConsumedLead[]>;
    getCompanyConsumedLeadsWithStatus(companyId: string): Promise<ConsumedLead[]>;
    getConsumedLeadMetrics(): Promise<any>;
    getCompanyConversionMetrics(companyId: string): Promise<any>;
    getAvailableLeadsForUser(companyId: string): Promise<{
        leads: Lead[];
        count: number;
    }>;
}
